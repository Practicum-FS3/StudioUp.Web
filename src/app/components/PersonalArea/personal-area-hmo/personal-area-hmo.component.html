<form [formGroup]="personalForm" (ngSubmit)="onSubmitPersonalForm()" class="personal-form">
  <div class="form-group">
    <label for="HMOCode">: קופת חולים</label>
    <select id="HMOCode" formControlName="HMOCode" class="form-control custom-select">
      <option value="" disabled selected>בחר קופת חולים</option>
      <option *ngFor="let hmo of hmoOptions" [value]="hmo.code">{{ hmo.name }}</option>
    </select>
    <mat-error *ngIf="personalForm.get('HMOCode')?.touched && personalForm.get('HMOCode')?.hasError('required')" class="error-massege">
      שדה חובה *
    </mat-error>
  </div>
  
  <div class="form-group">
    <label for="freefitCode">: קוד פריפיט</label>
    <input id="freefitCode" formControlName="freefitCode" pInputText class="form-control" />
    <mat-error *ngIf="personalForm.get('freefitCode')?.touched && personalForm.get('freefitCode')?.hasError('required')" class="error-massege">
      שדה חובה *
    </mat-error>
  </div>

  <div *ngIf="!fileExists" class="form-group">
    <label for="registrationForm">: טופס רישום</label>
    <div class="file-upload-wrapper">
      <input id="registrationForm" type="file" (change)="onFileChange($event)" class="file-input-hidden" />
      <i class="pi pi-upload" id="button-icon" (click)="triggerFileInput()"></i>
    </div>
  </div>

  <div *ngIf="fileExists">
    <div *ngIf="isImage">
      <img [src]="fileUrl" alt="File preview" class="file-preview" style="max-width: 100%; max-height: 100px;" (click)="openFileInNewTab()" />
    </div>
    <div *ngIf="isPDF">
      <i class="pi pi-file-pdf" id="pdf-preview-icon" (click)="openFileInNewTab()"></i>
    </div>
    <i class="pi pi-download pointer" id="button-icon" (click)="onDownloadFile()"></i>
    <i class="pi pi-trash pointer" id="button-icon" (click)="onDeleteFile()"></i>
  </div>

  <i class="pi pi-save" id="button-icon" (click)="onSubmitPersonalForm()" [ngClass]="{'disabled': personalForm.invalid, 'pointer': !personalForm.invalid}"></i>
</form>


<!-- <form [formGroup]="personalForm" (ngSubmit)="onSubmitPersonalForm()" class="personal-form">
  <div class="form-group">
    <label for="HMOCode">: קופת חולים</label>
    <select id="HMOCode" formControlName="HMOCode" class="form-control custom-select">
      <option value="" disabled selected>בחר קופת חולים</option>
      <option *ngFor="let hmo of hmoOptions" [value]="hmo.code">{{ hmo.name }}</option>
    </select>
    <mat-error *ngIf="personalForm.get('HMOCode')?.touched && personalForm.get('HMOCode')?.hasError('required')"
      class="error-massege">
      שדה חובה *
    </mat-error>
  </div>
  <div class="form-group">
    <label for="freefitCode">: קוד פריפיט</label>
    <input id="freefitCode" formControlName="freefitCode" pInputText class="form-control" />
    <mat-error *ngIf="personalForm.get('freefitCode')?.touched && personalForm.get('freefitCode')?.hasError('required')"
      class="error-massege">
      שדה חובה *
    </mat-error>
  </div>

  <div *ngIf="!fileExists" class="form-group">
    <label for="registrationForm">: טופס רישום</label>
    <div class="file-upload-wrapper">
      <input id="registrationForm" type="file" (change)="onFileChange($event)" class="file-input-hidden" />
      <i class="pi pi-upload" id="button-icon" (click)="triggerFileInput()"></i>
    </div>
  </div>

  <div *ngIf="fileExists" >
    <div *ngIf="isImage">
      <img [src]="fileUrl" alt="File preview" class="file-preview" style="max-width: 100%; max-height: 100px;"
        (click)="openFileInNewTab()" />
    </div>
    <div *ngIf="isPDF">
      <i class="pi pi-file-pdf" id="pdf-preview-icon" (click)="openFileInNewTab()"></i>
    </div>
    <i class="pi pi-download pointer" id="button-icon" (click)="onDownloadFile()"></i>
    <i class="pi pi-trash pointer" id="button-icon" (click)="onDeleteFile()"></i>
  </div>

  <i class="pi pi-arrow-left next" id="button-icon" (click)="onSubmitPersonalForm()"
    [ngClass]="{'disabled': personalForm.invalid, 'pointer': !personalForm.invalid}"></i>
</form>
 -->



<!-- </form> -->
<!-- </div> -->

  <!-- <div *ngIf="customerHMOS"> -->
  <!-- <form [formGroup]="fileForm" (ngSubmit)="onUploadFile()" class="file-form"> -->


<!-- <img [src]="fileUrl" alt="File preview" class="file-preview" (click)="openFileInNewTab(fileUrl)"/> -->

<!-- <div class="form-group">
    <label for="HMOCode">: קופת חולים</label>
    <input id="HMOCode" formControlName="HMOCode" pInputText class="form-control" />
    <mat-error *ngIf="personalForm.get('HMOCode')?.touched && personalForm.get('HMOCode')?.hasError('required')"
      class="error-massege">
      שדה חובה *
    </mat-error>
    <mat-error *ngIf="personalForm.get('HMOCode')?.touched && personalForm.get('HMOCode')?.hasError('pattern')"
      class="error-massege">
      שדה זה חייב להכיל מספרים בלבד *
    </mat-error>
  </div> -->

<!-- <form [formGroup]="personalForm" (ngSubmit)="onSubmitPersonalForm()" class="personal-form">
  <div class="form-group">
    <label for="HMOCode">: קופת חולים</label>
    <select id="HMOCode" formControlName="HMOCode" class="form-control custom-select">
      <option value="" disabled selected>בחר קופת חולים</option>
      <option *ngFor="let hmo of hmoOptions" [value]="hmo.code">{{ hmo.name }}</option>
  </select>
    <mat-error *ngIf="personalForm.get('HMOCode')?.touched && personalForm.get('HMOCode')?.hasError('required')"
      class="error-massege">
      שדה חובה *
    </mat-error>
  </div>

  <div class="form-group">
    <label for="freefitCode">: קוד פריפיט</label>
    <input id="freefitCode" formControlName="freefitCode" pInputText class="form-control" />
    <mat-error *ngIf="personalForm.get('freefitCode')?.touched && personalForm.get('freefitCode')?.hasError('required')"
      class="error-massege">
      שדה חובה *
    </mat-error>
  </div>
  <i class="pi pi-arrow-left next" id="button-icon" (click)="onSubmitPersonalForm()"
    [ngClass]="{'disabled': personalForm.invalid, 'pointer': !personalForm.invalid}"></i>
</form>

<div *ngIf="customerHMOS">
  <form [formGroup]="fileForm" (ngSubmit)="onUploadFile()" class="file-form">
    <div *ngIf="!fileExists" class="form-group">
      <label for="registrationForm">: טופס רישום</label>
      <div class="file-upload-wrapper">
        <input id="registrationForm" type="file" (change)="onFileChange($event)" class="file-input-hidden" />
        <i class="pi pi-upload" id="button-icon" (click)="triggerFileInput()"></i>
      </div>
    </div>
    <div *ngIf="fileExists">

      <div *ngIf="isImage">
        <img [src]="fileUrl" alt="File preview" class="file-preview" style="max-width: 100%; max-height: 100px;" (click)="openFileInNewTab()" />
      </div>
      <div *ngIf="isPDF">
        <i class="pi pi-file-pdf" id="pdf-preview-icon" (click)="openFileInNewTab()"></i>
      </div>

      <i class="pi pi-download pointer" id="button-icon" (click)="onDownloadFile()"></i>
      <i class="pi pi-trash pointer" id="button-icon" (click)="onDeleteFile()"></i>
    </div>
  </form>
</div> -->